<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO Echo Test</title>
  </head>
  <body>
    <h2>Socket.IO Echo</h2>

    <p>Online Users: <span id="online">0</span></p>

    <input type="text" id="msg" />
    <button id="sendBtn">Send</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io(); // Connect to server
      const input = document.getElementById('msg');
      const button = document.getElementById('sendBtn');
      const online = document.getElementById('online');

      button.addEventListener('click', () => {
        const data = input.value;
        socket.emit('message', data); // Send message to server
        input.value = ''; // clear input
      });

      socket.on('count', (data) => {
        online.innerText = data; // âœ… correct
      });

      socket.on('data', (msg) => {
        console.log('Server echoed:', msg);
      });
    </script>
  </body>
</html>
